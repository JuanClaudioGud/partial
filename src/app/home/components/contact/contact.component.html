<section class="uk-section-small uk-light">
  <div class="uk-container">
    <div class="uk-text-center">
      <h2>CONTACTO</h2>
    </div>
  </div>
</section>
<section class="uk-section">
  <div class="uk-container">
    <div class="uk-flex-center" uk-grid>

      <div class="uk-width-1-1">
        <div class="section-title uk-width-2-3@m uk-margin-auto uk-text-center">
          <h2>Escribinos</h2>
          <div class="uk-width-1-2@m uk-margin-auto title-divider">
            <i class="fi flaticon-scissors-cutting-hair"></i>
          </div>
          <p>They call him Flipper Flipper faster than lightning. No one you see is smarter than he so join us her are sure to get a smile from seven stranded.</p>
        </div>
      </div>

      <div class="uk-width-1-1 uk-width-1-2@m">
        <form [formGroup]="form">
          <fieldset class="uk-fieldset">
            <div class="uk-margin">
              <label class="uk-form-label" for="name">Nombre</label>
              <input 
                class="uk-input" 
                type="text" 
                id="name" 
                placeholder=""
                formControlName="name">
              <span class="error" *ngIf="form.controls.name.touched">
                <ng-container 
                  *ngTemplateOutlet="errorsTemplate; 
                  context: { $implicit: 'name' }">
                </ng-container>
              </span>
            </div>
            <div class="uk-margin">
              <label class="uk-form-label" for="email">E-mail</label>
              <input 
                class="uk-input" 
                type="text" 
                id="email" 
                placeholder=""
                formControlName="email">
              <span class="error" *ngIf="form.controls.email.touched">
                <ng-container 
                  *ngTemplateOutlet="errorsTemplate; 
                  context: { $implicit: 'email' }">
                </ng-container>
              </span>
            </div>
            <div class="uk-margin">
              <label class="uk-form-label" for="phone">Teléfono</label>
              <input 
                class="uk-input" 
                type="text" 
                id="phone" 
                placeholder=""
                formControlName="phone">
              <span class="error" *ngIf="form.controls.phone.touched">
                <ng-container 
                  *ngTemplateOutlet="errorsTemplate; 
                  context: { $implicit: 'phone' }">
                </ng-container>
              </span>
            </div>
            <div class="uk-margin">
              <label class="uk-form-label" for="message">Mensaje</label>
              <textarea 
                class="uk-textarea" 
                id="message" 
                rows="5" 
                placeholder=""
                formControlName="message"></textarea>
              <span class="error" *ngIf="form.controls.message.touched">
                <ng-container 
                  *ngTemplateOutlet="errorsTemplate; 
                  context: { $implicit: 'message' }">
                </ng-container>
              </span>
            </div>
            <button class="
              section-btn
              uk-button 
              uk-button-primary
              uk-margin-bottom"
              (click)="onClick()">
              Enviar
            </button>
          </fieldset>
        </form>
      </div>

      <div class="contact-details uk-width-1-1 uk-child-width-1-3@m uk-margin-large-top" uk-grid>
        <div class="uk-flex uk-flex-middle">
          <i class="uk-icon-button" uk-icon="location"></i>
          <span>
            <p>Bv. Avellaneda 1516</p>
            <p>Rosario, Santa Fe</p>
          </span>
        </div>
        <div class="uk-flex uk-flex-middle">
          <i class="uk-icon-button" uk-icon="phone"></i>
          <span>
            <a href="tel:">1-800-23-456-7890</a>
            <a href="tel:">1-800-23-456-7890</a>
          </span>
        </div>
        <div class="uk-flex uk-flex-middle">
          <i class="uk-icon-button" uk-icon="mail"></i>
          <span>
            <a href="mailto:">contacto@tupeluqueria.com</a>
            <a href="mailto:">admin@tupeluqueria.com</a>
          </span>
        </div>
      </div>

      <div class="uk-width-1-1 uk-margin-large-top">
        <google-map 
          width="100%" 
          [zoom]="12"
          [options]="mapOptions">
        </google-map>
      </div>

    </div>
  </div>
</section>

<app-footer></app-footer>

<div class="
  uk-inline 
  uk-position-fixed 
  uk-position-top 
  uk-width-1-1 
  uk-height-1-1" 
  *ngIf="loading$ | async">
  <div class="uk-overlay-primary uk-position-cover"></div>
  <div class="uk-overlay uk-position-center">
    <div uk-spinner="ratio: 4"></div>
  </div>
</div>

<ng-template #errorsTemplate let-controlName>
  <ng-container *ngFor="let error of form.controls[controlName].errors | keyvalue">
    <ng-container 
      *ngTemplateOutlet="errorTemplate; 
      context: { $implicit: error.key }">
    </ng-container>
  </ng-container>
</ng-template>

<ng-template #errorTemplate let-error>
  <ng-container [ngSwitch]="error">
    <ng-container *ngSwitchCase="'required'">
      Este campo es obligatorio
    </ng-container>
    <ng-container *ngSwitchCase="'minlength'">
      La información ingresada es demasiado concisa
    </ng-container>
    <ng-container *ngSwitchCase="'maxlength'">
      La información ingresada es demasiado extensa
    </ng-container>
    <ng-container *ngSwitchCase="'email'">
      El email ingresado no es valido
    </ng-container>
  </ng-container>
</ng-template>